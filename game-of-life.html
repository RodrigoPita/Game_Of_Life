<html>
    <canvas 
        id="gameCanvas"
        width="600"
        height="600">
    </canvas>
    
    <script>
        var canvas;
        var canvasContext;
        const TAM = 20;
        var grid;
        window.onload = function() {
            canvas = document.getElementById( 'gameCanvas' );
            canvasContext = canvas.getContext( '2d' );
            drawEverithing();
            gridMatrix = fillGrid();
            drawEverithing();
            drawEverithing();            
        }

        function fillGrid() {
            console.log( "Called fillGrid" );
            size = canvas.height / TAM;
            grid = new Array( size )
            for ( line = 0; line < grid.length; line++ ) {
                grid[line] = new Array( size )
                for ( col = 0; col < grid[line].length; col++ ) {
                    grid[line][col] = 0;
                }
            }
            return grid
        }

        function drawEverithing() {
            console.log( "Called drawEverything" );
            canvasContext.fillStyle = 'navy';
            canvasContext.fillRect( 0, 0, canvas.width, canvas.height );
            canvasContext.fillStyle = 'silver';
            canvasContext.fillRect( 100, 100, 20, 20 );
        }
    </script>
    
</html>